{"version":3,"sources":["api/apiHandler.js","components/Auth/UserContext.jsx","components/Auth/UserProvider.jsx","components/Auth/withUser.jsx","components/NavMain.jsx","components/AppMap.jsx","pages/Home.jsx","components/Forms/FormSignin.jsx","pages/Signin.jsx","components/Forms/FormSignup.jsx","pages/Signup.jsx","components/ProtectedRoute.jsx","pages/Profile.jsx","pages/Missing.jsx","pages/Found.jsx","components/NavBottom.jsx","pages/OneMissing.jsx","pages/OneFound.jsx","components/AutoComplete.jsx","components/Forms/FormAnnouncement.jsx","pages/NewReport.jsx","utils.js","components/Forms/FormEditAnnounce.jsx","components/Forms/FormProfile.jsx","App.jsx","index.js"],"names":["service","axios","create","baseURL","process","withCredentials","errorHandler","error","response","console","log","userInfo","post","then","res","data","catch","get","announceId","patch","delete","UserContext","React","createContext","UserProvider","state","user","isLoggedIn","isLoading","setUser","setState","removeUser","apiHandler","authValues","this","Provider","value","props","children","Component","withUser","ComponentToPassUserContextTo","Consumer","context","className","style","width","height","exact","to","Fragment","username","onClick","mapboxgl","workerClass","require","default","Map","ReactMapboxGl","accessToken","missingImg","Image","src","foundImg","AppMap","lng","lat","zoom","handleClick","selectedAnnounce","handleSelectAnnounce","navigator","geolocation","getCurrentPosition","position","latitude","coords","longitude","missings","announces","filter","announce","status","founds","missingLayer","type","id","images","layout","map","index","key","event","coordinates","location","foundLayer","containerStyle","top","left","bottom","right","center","PureComponent","Home","selectedItem","onSelectAnnounce","contextType","FormSignin","email","password","handleChange","target","name","handleSubmit","preventDefault","history","push","align","onChange","onSubmit","placeholder","withRouter","Signin","FormSignup","phone_number","test","String","toLowerCase","length","htmlFor","invalid","isEmailCorrect","valid","isStrongPassword","Signup","component","rest","render","Profile","userAnnounces","deleteAnnounce","_id","onAnnounceSelect","find","onEditFormClose","handleAnnounceUpdate","updatedAnnounce","addAnnounce","profileImg","alt","image","title","formattedAddress","pet_type","description","Missing","responseFromApi","Found","NavBottom","OneMissing","match","params","apiResponse","comments","OneFound","AutocompletePlace","search","results","handleSearchChange","bind","e","clearTimeout","timeoutId","setTimeout","performSearch","features","place","place_name","onSelect","defaultValue","handleAnnounceClicked","FormAnnouncement","imageRef","createRef","fd","FormData","append","current","files","handlePlace","geometry","ref","formRef","AutoComplete","disabled","Newreport","buildFormData","formData","parentKey","Date","File","Object","keys","forEach","FormEditAnnounce","httpResponse","message","FormProfile","profilImg","isValidInput","checkError","userId","phoneNumber","App","path","NewReport","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.0002c8c8.chunk.js","sourcesContent":["import axios from \"axios\";\n\nconst service = axios.create({\n  baseURL: process.env.REACT_APP_BACKEND_URL,\n  withCredentials: true, // Cookie is sent to client when using this service. (used for session)\n});\n\nfunction errorHandler(error) {\n  if (error.response) {\n    console.log(error.response);\n    throw error;\n  }\n  throw error;\n}\n\nexport default {\n  service,\n\n  signup(userInfo) {\n    return service\n      .post(\"/api/auth/signup\", userInfo)\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n\n  signin(userInfo) {\n    return service\n      .post(\"/api/auth/signin\", userInfo)\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n\n  isLoggedIn() {\n    return service\n      .get(\"/api/auth/isLoggedIn\")\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n\n  logout() {\n    return service\n      .get(\"/api/auth/logout\")\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n\n  getAnnounce() {\n    return service\n      .get(\"/api/announce\")\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n\n  getOneAnnounce(announceId) {\n    return service\n      .get(`/api/announce/${announceId}`)\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n\n  addAnnounce(data) {\n    return service\n      .post(\"/api/announce\", data)\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n  updateAnnounce(announceId, data) {\n    return service\n      .patch(`/api/announce/${announceId}`, data)\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n\n  updateUser(data) {\n    return service\n      .patch(\"/api/users/me\", data)\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n\n  getUserAnnounce() {\n    return service\n      .get(\"/api/users/me/announce\")\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n\n  removeAnnounce(announceId) {\n    return service\n      .delete(`/api/announce/${announceId}`)\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n  getUserInfos() {\n    return service\n      .get(\"/api/users/me\")\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n};\n","import React from \"react\";\n\nconst UserContext = React.createContext();\n\nexport default UserContext;","import React, { Component } from \"react\";\nimport apiHandler from \"../../api/apiHandler\";\nimport UserContext from \"./UserContext\";\n\nclass UserProvider extends Component {\n  state = {\n    user: null,\n    isLoggedIn: false,\n    isLoading: true,\n  };\n\n  componentDidMount() {\n    apiHandler\n      .isLoggedIn()\n      .then((data) => {\n        this.setState({ user: data, isLoggedIn: true, isLoading: false });\n      })\n      .catch((error) => {\n        this.setState({ user: null, isLoggedIn: false, isLoading: false });\n      });\n  }\n\n  setUser = (user) => {\n    this.setState({ user, isLoggedIn: true });\n  };\n\n  removeUser = () => {\n    this.setState({ user: null, isLoggedIn: false });\n  };\n\n  render() {\n    //  Setup all the values/functions you want to expose to anybody reading\n    // from the AuthContext.\n    const authValues = {\n      user: this.state.user,\n      setUser: this.setUser,\n      removeUser: this.removeUser,\n      isLoggedIn: this.state.isLoggedIn,\n      isLoading: this.state.isLoading,\n    };\n\n    return (\n      <UserContext.Provider value={authValues}>\n        {this.props.children}\n      </UserContext.Provider>\n    );\n  }\n}\n\nexport default UserProvider;\n","import React from \"react\";\n\nimport UserContext from \"./UserContext\";\n\n// This is what we call a HOC (Higher Order Component).\n// It takes a component as a parameter and it returns a component.\n// This technique can be used to abstract some logic in order to pass\n// some data down as props to the component sent as parameter.\n\n// The use case of this one is to make it easy to access the user context to\n// any component in our app.\n\n/* ******************************************************** */\n\n//  How to use:  =>\n// YourComponent.jsx\n// import React from \"react\"\n// function or class YourComponent()\n//\n// ... your implementation.\n//\n// export default withUser(YourComponent)\n// ----------------^ your component now has access to the user context defined in UserProvider.jsx.\n\n// This component is not exported as default, so you have to import it\n// this way :\n// import { withUser } from \"../relative/path/to/this/file\"\n\nconst withUser = (ComponentToPassUserContextTo) => {\n  return function (props) {\n    return (\n      <UserContext.Consumer>\n        {(context) => (\n          <ComponentToPassUserContextTo {...props} context={context} />\n        )}\n      </UserContext.Consumer>\n    );\n  };\n};\n\nexport default withUser;","import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport withUser from \"../components/Auth/withUser\";\nimport apiHandler from \"../api/apiHandler\";\n\nimport \"../styles/NavMain.css\";\n\nconst NavMain = (props) => {\n  const { context } = props;\n\n  function handleLogout() {\n    apiHandler\n      .logout()\n      .then(() => {\n        context.removeUser();\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  }\n\n  return (\n    <nav className=\"NavMain\" style={{ width: '100vw', height: '60px' }}>\n      <NavLink exact to=\"/\">\n        <h3 className=\"logo\">Furry Friend Finder <span>🐾</span> </h3>\n      </NavLink>\n      <ul className=\"nav-list\">\n        {context.isLoggedIn && (\n          <React.Fragment>\n            <li>\n              <NavLink to=\"/profile\">\n                {context.user && context.user.username}\n              </NavLink>\n            </li>\n            <li>\n              <p onClick={handleLogout}>Logout</p>\n            </li>\n          </React.Fragment>\n        )}\n        {!context.isLoggedIn && (\n          <React.Fragment>\n            <li>\n              <NavLink to=\"/signin\">Log in</NavLink>\n            </li>\n            <li>\n              <NavLink to=\"/signup\">Sign Up</NavLink>\n            </li>\n          </React.Fragment>\n        )}\n      </ul>\n    </nav>\n  );\n};\n\nexport default withUser(NavMain);\n","import React from \"react\";\nimport ReactMapboxGl, { Layer, Feature } from \"react-mapbox-gl\";\nimport 'mapbox-gl/dist/mapbox-gl.css';\nimport mapboxgl from 'mapbox-gl';\n// eslint-disable-next-line import/no-webpack-loader-syntax\nmapboxgl.workerClass = require('worker-loader!mapbox-gl/dist/mapbox-gl-csp-worker').default;\n\nconst Map = ReactMapboxGl({\n    accessToken: process.env.REACT_APP_MAPBOX_TOKEN,\n});\n\nconst missingImg = new Image(20, 30);\nmissingImg.src = \"/media/paw-print.png\";\n\nconst foundImg = new Image(20, 30);\nfoundImg.src = \"/media/wanted.png\";\n\n\nclass AppMap extends React.PureComponent {\n    state = {\n      lng: 2.349014, // Default lng and lat set to the center of paris.\n      lat: 48.864716,\n      zoom: 12, // used for map zoom level\n    };\n  \n    componentDidMount() {\n      // Get users geo location and set it as the state so the map centers relative to the users current location. :)\n      const success = (position) => {\n        const latitude = position.coords.latitude;\n        const longitude = position.coords.longitude;\n        this.setState({ lat: latitude, lng: longitude });\n      };\n  \n      const error = () => {\n        console.log(\"An error occured geolocating user\");\n      };\n  \n      if (!navigator.geolocation) {\n        console.log(\"Geolocation not supported\");\n      } else {\n        navigator.geolocation.getCurrentPosition(success, error);\n      }\n    }\n  \n    handleClick = (selectedAnnounce) => {\n      // Pass the selectedItem back to the parent.\n      this.props.handleSelectAnnounce(selectedAnnounce);\n    };\n  \n    render() {\n      const missings = this.props.announces.filter(\n        (announce) => announce.status[0] === \"Missing\"\n      );\n  \n      const founds = this.props.announces.filter(\n        (announce) => announce.status[0] === \"Found\"\n      );\n  \n      const missingLayer = (\n        <Layer\n          type=\"symbol\"\n          id=\"missing\"\n          images={[\"missing-icon\", missingImg]}\n          layout={{ \"icon-image\": \"missing-icon\" }}\n        >\n          {missings.map((announce, index) => (\n            <Feature\n              key={index}\n              onClick={(event) => this.handleClick(announce)}\n              coordinates={announce.location.coordinates}\n            />\n          ))}\n        </Layer>\n      );\n  \n      const foundLayer = (\n        <Layer\n          type=\"symbol\"\n          id=\"found\"\n          images={[\"found-icon\", foundImg]}\n          layout={{ \"icon-image\": \"found-icon\" }}\n        >\n          {founds.map((announce, index) => (\n            <Feature\n              key={index}\n              onClick={(event) => this.handleClick(announce)}\n              coordinates={announce.location.coordinates}\n            />\n          ))}\n        </Layer>\n      );\n  \n      \n      return (\n        <Map\n          // eslint-disable-next-line\n          style=\"mapbox://styles/mapbox/light-v10\"\n          zoom={[12]}\n          containerStyle={{\n            top: 0,\n            left: 0,\n            bottom: 0,\n            right: 0,\n            position: \"absolute\",\n          }}\n          center={[this.state.lng, this.state.lat]}\n        >\n          {missingLayer}\n          {foundLayer}\n    \n        </Map>\n      );\n    }\n  }\n  \n  export default AppMap;\n  ","import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport AppMap from \"../components/AppMap\";\nimport UserContext from \"../components/Auth/UserContext\";\nimport apiHandler from \"../api/apiHandler\";\n\nclass Home extends React.Component {\n  static contextType = UserContext;\n  state = {\n    selectedItem: null,\n    announces: [],\n  };\n\n  componentDidMount() {\n    apiHandler.getAnnounce().then((data) => {\n      this.setState({ announces: data });\n    });\n  }\n\n  onSelectAnnounce = (selectedAnnounce) => {\n    this.setState({ selectedAnnounce: selectedAnnounce });\n  };\n\n  render() {\n    const { user } = this.context;\n\n    return (\n      \n      <React.Fragment>\n      \n      <AppMap announces={this.state.announces} handleSelectAnnounce={this.onSelectAnnounce} />\n      <button><NavLink to=\"/profile\">Missing</NavLink></button>\n    </React.Fragment>\n       \n    );\n  }\n}\n\nexport default Home;\n","import React, { Component } from \"react\";\nimport UserContext from \"../Auth/UserContext\";\nimport { withRouter } from \"react-router-dom\";\nimport apiHandler from \"../../api/apiHandler\";\nimport { Redirect } from \"react-router-dom\";\nimport \"../../styles/signin.css\";\n\nclass FormSignin extends Component {\n  static contextType = UserContext;\n\n  state = {\n    email: \"\",\n    password: \"\",\n  };\n\n  handleChange = (event) => {\n    const key = event.target.name;\n    const value = event.target.value;\n\n    this.setState({ [key]: value });\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n\n    apiHandler\n      .signin(this.state)\n      .then((data) => {\n        this.context.setUser(data);\n        this.props.history.push(\"/profile\");\n      })\n      .catch((error) => {\n        console.log(error);\n        // Display error message here, if you set the state\n      });\n  };\n\n  render() {\n    if (this.context.user) {\n      return <Redirect to=\"/\" />;\n    }\n\n    return (\n    <div className=\"main\">\n      <p className=\"sign\" align=\"center\">Sign in</p>\n      <form className=\"form1\" onChange={this.handleChange} onSubmit={this.handleSubmit}>\n    \n       <div >\n        <input className=\"un\" type=\"email\"  name=\"email\" onChange={this.handleChange}\n              value={this.state.email}\n              placeholder=\"Email\"/>\n      </div>\n          <div>\n          </div>\n        <input  className=\"pass\" align=\"center\"  type=\"password\" id=\"password\" name=\"password\" onChange={this.handleChange}\n              value={this.state.password} placeholder=\"Password\"\n             />\n              <div className=\"submit-area\" >\n        <button className=\"submit\">Submit</button>\n        </div>\n      </form>\n      </div>\n    );\n  }\n}\n\nexport default withRouter(FormSignin);\n","import React from \"react\";\nimport FormSignin from \"../components/Forms/FormSignin\";\n\nconst Signin = (props) => {\n  return <FormSignin />;\n};\n\nexport default Signin;\n","import React, { Component } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport UserContext from \"../Auth/UserContext\";\nimport apiHandler from \"../../api/apiHandler\";\nimport { Redirect } from \"react-router-dom\";\nimport \"../../styles/signup.css\"\n\nclass FormSignup extends Component {\n  static contextType = UserContext;\n\n  state = {\n    username: \"\",\n    email: \"\",\n    password: \"\",\n    phone_number: 0,\n  };\n\n  isEmailCorrect() {\n    const re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n    return re.test(String(this.state.email).toLowerCase());\n  }\n\n\n  isStrongPassword() {\n    return this.state.password.length >= 5;\n  }\n\n  handleChange = (event) => {\n    const value = event.target.value;\n    const key = event.target.name;\n\n    this.setState({ [key]: value });\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n\n    apiHandler\n      .signup(this.state)\n      .then((data) => {\n        this.context.setUser(data);\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  render() {\n    if (this.context.user) {\n      return <Redirect to=\"/profile\" />;\n    }\n\n    return (\n      <div className=\"main-signup\">\n<p className=\"signup\" align=\"center\">Sign Up</p>\n     \n      <form className=\"form-signup\" onSubmit={this.handleSubmit}>\n        <div>\n        <label htmlFor=\"username\"></label>\n        <input\n          className=\"un-signup\"\n          onChange={this.handleChange}\n          value={this.state.username}\n          invalid={this.state.email.length > 0 && !this.isEmailCorrect()}\n          valid={this.isEmailCorrect()}\n          type=\"username\"\n          id=\"username\"\n          name=\"username\"\n          placeholder=\"Username\"\n        />\n        </div>\n      <div>\n      <label htmlFor=\"email\"></label>\n        <input\n        className=\"un-signup\"\n          onChange={this.handleChange}\n          value={this.state.email}\n          type=\"email\"\n          id=\"email\"\n          name=\"email\"\n          placeholder=\"Email\"\n          />\n      </div>\n       <div>\n       <label htmlFor=\"password\"></label>\n        <input\n        className=\"un-signup\"\n          onChange={this.handleChange}\n          value={this.state.password}\n          type=\"password\"\n          invalid={\n            this.state.password.length > 0 && !this.isStrongPassword()\n          }\n          valid={this.state.password.length > 0 && this.isStrongPassword()}\n          id=\"password\"\n          name=\"password\"\n          placeholder=\"Password\"\n        />\n       </div>\n        \n        <div>\n        <label htmlFor=\"phone_number\"></label>\n        <input\n        className=\"un-signup\"\n          onChange={this.handleChange}\n          value={this.state.phone_number}\n          type=\"phone_number\"\n          id=\"phone_number\"\n          name=\"phone_number\"\n          placeholder=\"Phone number\"\n        />\n        </div > \n        <div className=\"submit-area-su\" >\n        <button className=\"submit-signup\">Submit</button>\n        </div>\n       \n      </form>\n      {this.state.email.length > 3 && (\n          <p>\n            {this.isEmailCorrect()\n              ? 'Your email is valid'\n              : 'Your email is invalid'}\n          </p>\n        )}\n      </div>\n    );\n  }\n} \n      \n\nexport default withRouter(FormSignup);\n","import React from \"react\";\nimport FormSignup from \"../components/Forms/FormSignup\";\n\nconst Signup = (props) => {\n  return <FormSignup />;\n};\n\nexport default Signup;\n","import React from \"react\";\nimport { Redirect, Route } from \"react-router-dom\";\nimport withUser from \"../components/Auth/withUser\";\n\nconst ProtectedRoute = ({ component: Component, context, ...rest }) => {\n  if (context.isLoading) {\n    return null;\n  } else if (context.isLoggedIn) {\n    return <Route {...rest} render={(props) => <Component {...props} />} />;\n  } else {\n    return <Redirect to=\"/signin\" />;\n  }\n};\n\nexport default withUser(ProtectedRoute);\n","import React, { Component } from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport UserContext from \"../components/Auth/UserContext\";\nimport apiHandler from \"../api/apiHandler\";\nimport { Link } from \"react-router-dom\";\nimport withUser from \"../components/Auth/withUser\"\n\n\nclass Profile extends Component {\n  static contextType = UserContext;\n  \n  state = {\n    userAnnounces:[],\n    selectedAnnounce: null,\n  };\n\n  componentDidMount() {\n    apiHandler\n    .getUserAnnounce()\n    .then((data) => {\n      this.setState({ userAnnounces: data });\n    });\n  }\n\n  deleteAnnounce = (announceId) => {\n    apiHandler.removeAnnounce(announceId).then(() => {\n      const userAnnounces = [...this.state.userAnnounces].filter(\n        (announce) =>  announce._id !== announceId\n      );\n      this.setState({ userAnnounces });\n    });\n  };\n\n  onAnnounceSelect = (announceId) => {\n    const selectedAnnounce = this.state.userAnnounces.find(\n      (announce) => announce._id === announceId\n    );\n    this.setState({ selectedAnnounce: selectedAnnounce });\n  };\n\n  onEditFormClose = () => {\n    this.setState({ selectedAnnounce: null });\n  };\n\n  handleAnnounceUpdate = (updatedAnnounce) => {\n    const userAnnounces = [...this.state.userAnnounces].map((announce) =>\n    announce._id === updatedAnnounce._id ? updatedAnnounce : announce\n    );\n    this.setState({ userAnnounces });\n  };\n  \n  addAnnounce = (announce) => {\n    this.setState({ userAnnounces: [...this.state.userAnnounces] });\n  };\n\n  render() {\n    const { user } = this.context;\n    const { userAnnounces } = this.state;\n    if (!user) return null;\n    return (\n      <section className=\"Profile\">\n        <div className=\"user-presentation\">\n          <h2 className=\"title\">\n            {user.username}\n          </h2>\n\n        </div>\n\n        <div className=\"user-image\">\n          <img src={user.profileImg} alt={user.profileImg} style={{width: 100, height: 100}} />\n        </div>\n        <div className=\"user-image\">\n          <h2 className=\"title\">\n            {user.username} {user.email} {user.phone_number}\n          </h2>\n          <button><Link className=\"link\" to=\"/profile/settings\">Edit profile</Link></button>\n          <button><NavLink to=\"/create\">Report Missing</NavLink></button>\n        </div>\n          \n          <div className=\"missing\">\n            <h3>Your announcements</h3>\n            {this.state.userAnnounces  && this.state.userAnnounces.map((announce) => {\n                    return (\n                        <div className=\"missing_info\" \n                        key={announce._id}   \n                       >\n                            <img\n                          style={{\n                            width: \"100vw\",\n                            height: \"\",\n                          }}\n                          src={announce.image}\n                          alt={announce.name}\n                            />\n                        <Link to={`/missing/${announce._id}`}>\n                          <h2>{announce.title}</h2>\n                        </Link>\n                        <h3>{announce.name}</h3>\n                        <h3>{announce.formattedAddress}</h3>\n                        <h3>{announce.pet_type}</h3>\n                        <h3>{announce.description}</h3>\n                        <Link to={`/profile/${announce._id}/edit`}>\n                    <button>Edit</button>\n                      </Link>\n                      <button onClick={() => this.deleteAnnounce(announce._id)}>\n                    Delete\n                  </button>\n                        \n                      </div>\n                    )}\n            )}\n          </div>\n      </section>\n    );\n  }\n}\n\n\nexport default withUser(Profile);\n\n","import React, { Component } from 'react'\nimport apiHandler from \"../api/apiHandler\"\nimport { Link } from \"react-router-dom\";\n\n\nclass Missing extends Component {\n    state = {\n        announces: [],\n    };\n\n    componentDidMount() {\n        apiHandler\n        .getAnnounce()\n        .then((responseFromApi) => {\n          this.setState({\n            announces: responseFromApi\n          });\n        })\n        .catch((error) => {\n            console.log(error);\n        });\n    }\n    \n\n    render() {\n      \n        return (\n            <div className=\"missing\">\n            <h2 className=\"missing_title\">Missing page</h2>\n             {this.state.announces  && this.state.announces.map((announce) => {\n                if (announce.status[0] === \"Missing\"){\n                    return (\n                        <div className=\"missing_info\" key={announce._id}>\n                            <img\n                          style={{\n                            width: \"100vw\",\n                            height: \"\",\n                          }}\n                          src={announce.image}\n                          alt={announce.name}\n                            />\n                        <Link to={`/missing/${announce._id}`}>\n                          <h2>{announce.title}</h2>\n                        </Link>\n                        <h3>{announce.name}</h3>\n                        <h3>{announce.location.coordinates}</h3>\n                        <h3>{announce.pet_type}</h3>\n                        <h3>{announce.description}</h3>\n        \n                      </div>\n                    )\n                  }\n               \n            \n            })}\n        </div>\n        )\n    }\n}\n\nexport default Missing\n\n","import React, { Component } from 'react'\nimport apiHandler from \"../api/apiHandler\"\nimport { Link } from \"react-router-dom\";\n\nclass Found extends Component {\n    state = {\n        announces: [],\n    };\n\n    componentDidMount() {\n        apiHandler\n        .getAnnounce()\n        .then((responseFromApi) => {\n          this.setState({\n            announces: responseFromApi\n          });\n        })\n        .catch((error) => {\n            console.log(error);\n        });\n    }\n    \n\n    render() {\n        return (\n            <div className=\"missing\">\n            <h2>Found page</h2>\n             {this.state.announces.map((announce)=>{\n                 if (announce.status[0] === \"Found\"){\n                    return (\n                        <div key={announce._id}>\n                            <img\n                          style={{\n                            width: \"100vw\",\n                            height: \"50vh\",\n                          }}\n                          src={announce.image}\n                          alt={announce.name}\n                            />\n                        <Link to={`/found/${announce._id}`}>\n                          <h2>{announce.title}</h2>\n                        </Link>\n                        <h3>{announce.name}</h3>\n                        <h3>{announce.location.coordinates}</h3>\n                        <h3>{announce.pet_type}</h3>\n                        <h3>{announce.description}</h3>\n        \n                      </div>\n                    )}\n               \n            \n            })}\n        </div>\n        )\n    }\n}\n\nexport default Found;\n\n","import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\n\nimport \"../styles/NavBottom.css\";\n\nconst NavBottom = () => {\n    return (\n    <nav className=\"NavBottom\" style={{ width: '100vw', height: '50px'}}>\n   \n    <ul className=\"nav-list\">\n      \n        <React.Fragment>\n          <li>\n            <NavLink to=\"/missing\">Missing</NavLink>\n          </li>\n        </React.Fragment>\n      \n        <React.Fragment>\n          <li>\n            <NavLink to=\"/found\">Found</NavLink>\n          </li>\n        </React.Fragment>\n      \n    </ul>\n  </nav>\n);\n};\nexport default NavBottom;","import React, { Component } from 'react'\nimport apiHandler from '../api/apiHandler';\nimport '../styles/missing.css';\n\nclass OneMissing extends Component {\n    state = {\n        announce: [],\n    };\n\n    componentDidMount() {\n        \n        const announceId = this.props.match.params.id;\n        apiHandler\n        .getOneAnnounce(announceId)\n        .then((apiResponse) => {\n              this.setState({\n                announce: apiResponse,\n              });\n        });\n    }\n  \n    render() {\n      if (!this.state.announce) {\n        return <div>Looking for your announcement..</div>;\n      }\n  \n      return (\n        <div className=\"missing\">\n          <h2>Missing details</h2>\n          <div>\n            \n            <img src={this.state.announce.image} alt=\"bob\"/>\n            <h2>{this.state.announce.title}</h2>\n            <h3>{this.state.announce.name}</h3>\n            <h4>{this.state.announce.formattedAddress}</h4>\n            <p>{this.state.announce.email}</p>\n            <p>{this.state.announce.description}</p>\n            <p>{this.state.announce.pet_type}</p>\n            <p>{this.state.announce.comments}</p>\n          </div>\n      \n        </div>\n      );\n    }\n    \n}\n\nexport default OneMissing;\n\n","import React, { Component } from 'react'\nimport apiHandler from '../api/apiHandler';\nimport '../styles/found.css';\n\nclass OneFound extends Component {\n    state = {\n        announce: [],\n    };\n\n    componentDidMount() {\n        \n        const announceId = this.props.match.params.id;\n        apiHandler\n        .getOneAnnounce(announceId)\n        .then((apiResponse) => {\n            console.log(apiResponse);\n              this.setState({\n                announce: apiResponse\n              });\n        });\n    }\n  \n    render() {\n      if (!this.state.announce) {\n        return <div>Looking for your announcement..</div>;\n      }\n  \n      return (\n        <div className=\"missing\">\n          <h2>Found details</h2>\n          <div>\n            \n            <img src={this.state.announce.image} alt=\"bob\"/>\n            <h2>{this.state.announce.title}</h2>\n            <h3>{this.state.announce.name}</h3>\n            <h4>{this.state.announce.formattedAddress}</h4>\n            <p>{this.state.announce.email}</p>\n            <p>{this.state.announce.description}</p>\n            <p>{this.state.announce.pet_type}</p>\n            <p>{this.state.announce.comments}</p>\n          </div>\n      \n        </div>\n      );\n    }\n    \n}\n\nexport default OneFound;\n\n","import React, { Component } from \"react\";\nimport axios from \"axios\";\n\n\n/*\n *  Thanks to @mc100s for this component\n *  https://github.com/mc100s\n *\n */\n\nclass AutocompletePlace extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      search: \"\",\n      results: [],\n      isLoading: false,\n    };\n    this.handleSearchChange = this.handleSearchChange.bind(this);\n  }\n\n  handleSearchChange(e) {\n    this.setState({\n      search: e.target.value,\n      isLoading: true,\n    });\n\n    // Stop the previous setTimeout if there is one in progress\n    clearTimeout(this.timeoutId);\n\n    // Launch a new request in 1000ms (1s) => Avoids excessive requests to the end point.\n    this.timeoutId = setTimeout(() => {\n      this.performSearch();\n    }, 1000);\n  }\n\n  performSearch() {\n    if (this.state.search === \"\") {\n      this.setState({\n        results: [],\n        isLoading: false,\n      });\n      return;\n    }\n    // https://docs.mapbox.com/api/search/geocoding\n    axios\n      .get(\n        `https://api.mapbox.com/geocoding/v5/mapbox.places/${this.state.search}.json?access_token=${process.env.REACT_APP_MAPBOX_TOKEN}`\n      )\n      .then((response) => {\n        this.setState({\n          results: response.data.features,\n          isLoading: false,\n        });\n      });\n  }\n\n  handleAnnounceClicked(place) {\n    this.setState({\n      search: place.place_name,\n      results: [],\n    });\n\n    this.props.onSelect(place);\n  }\n\n  render() {\n    const { results, isLoading } = this.state;\n    return (\n      <div className=\"AutocompletePlace\">\n        <input\n          className=\"input\"\n          type=\"text\"\n          value={this.props.defaultValue || this.state.search}\n          onChange={this.handleSearchChange}\n          placeholder=\"Type an address\"\n        />\n        <ul className=\"AutocompletePlace-results\">\n          {results.map((place) => (\n            <li\n              key={place.id}\n              className=\"AutocompletePlace-announces\"\n              onClick={() => this.handleAnnounceClicked(place)}\n            >\n              {place.place_name}\n            </li>\n          ))}\n          {isLoading && <li className=\"AutocompletePlace-announces\">Loading...</li>}\n        </ul>\n      </div>\n    );\n  }\n}\n\nexport default AutocompletePlace;\n","import React, { Component } from 'react';\nimport { withRouter } from \"react-router-dom\";\nimport apiHandler from '../../api/apiHandler';\nimport AutoComplete from \"../AutoComplete\";\nimport UserContext from \"../Auth/UserContext\";\n\n\nclass FormAnnouncement extends Component {\n    static contextType = UserContext;\n    state = {\n            title: \"\",\n            name: \"\",\n            location: {\n              coordinates: [],\n            },\n            email: \"\",\n            image: \"\",\n            description: \"\",\n            pet_type: \"\",\n            status:\"\",\n            comments: \"\",\n    };\n    \n    imageRef = React.createRef();\n   \n  handleChange = (event) => {\n    const value = event.target.value;\n    const key = event.target.name;\n    this.setState({ [key]: value });\n  };\n\n    \n    handleSubmit = (event) => {\n        event.preventDefault();\n        console.log(this.state)\n\n        const fd = new FormData();\n\n        for (let key in this.state) {\n            fd.append(key, this.state[key]);\n        }\n\n        fd.append(\"image\", this.imageRef.current.files[0]);\n\n        apiHandler\n          .addAnnounce(fd, {\n            title: this.state.title,\n            name: this.state.name,\n            location: this.state.location,\n            email: this.state.email,\n            image: this.state.image,\n            description: this.state.description,\n            pet_type:this.state.pet_type,\n            status:this.state.status,\n            comments:this.state.comments,\n          })\n          .then((data) => {\n            this.props.history.push(\"/profile\");\n\n          });\n      };\n\n      handlePlace = (place) => {\n        const location = place.geometry;\n        this.setState({ location, formattedAddress: place.place_name });\n      };\n\n    render() {\n        return (\n            <form onSubmit={this.handleSubmit}\n            ref={this.formRef}>\n                <div>\n                <label htmlFor=\"title\">Title</label>\n            <input\n              onChange={this.handleChange}\n              value={this.state.title}\n              id=\"title\"\n              name=\"title\"\n              type=\"text\"\n            />\n                </div>\n          <div>\n          <label htmlFor=\"name\">Name</label>\n            <input\n              onChange={this.handleChange}\n              value={this.state.name}\n              id=\"name\"\n              name=\"name\"\n              type=\"text\"\n            />\n          </div>\n          <div className=\"form-group\">\n            <label className=\"label\" htmlFor=\"location\">\n              Address\n            </label>\n            <AutoComplete onSelect={this.handlePlace} />\n          </div>\n            <div>\n            <label htmlFor=\"email\">E-mail</label>\n            <input\n              onChange={this.handleChange}\n              value={this.state.email}\n              id=\"email\"\n              name=\"email\"\n              type=\"text\"\n            />\n            </div>\n            <div className=\"form-group\">\n            <label className=\"label\" htmlFor=\"status\">\n              Status\n            </label>\n            <select\n              name=\"status\"\n              id=\"status\"\n              onChange={this.handleChange}\n              value={this.state.status}\n            >\n              <option value=\"\" disabled>\n                Select a status\n              </option>\n              <option value=\"Missing\">Missing</option>\n              <option value=\"Found\">Found</option>\n            </select>\n          </div>\n            <div>\n            <label htmlFor=\"description\">Description</label>\n            <input\n              onChange={this.handleChange}\n              value={this.state.description}\n              id=\"description\"\n              name=\"description\"\n              type=\"text\"\n            />\n            </div>\n         \n            <div>\n            <label htmlFor=\"image\">Image</label>\n            <input\n              ref={this.imageRef}\n              onChange={this.handleChange}\n              value={this.state.image}\n              id=\"image\"\n              name=\"image\"\n              type=\"file\"\n            />\n            </div>\n           \n         \n            <div>\n            <label htmlFor=\"pet_type\">Pet type</label>\n            <input\n              onChange={this.handleChange}\n              value={this.state.pet_type}\n              id=\"pet_type\"\n              name=\"pet_type\"\n              type=\"text\"\n            />\n            </div>\n           \n           <div>\n           <label htmlFor=\"comments\">Comments</label>\n            <input\n              onChange={this.handleChange}\n              value={this.state.comments}\n              id=\"comments\"\n              name=\"comments\"\n              type=\"text\"\n            />\n           </div>\n           \n            <button>Submit !</button>\n          </form>\n        );\n    }\n}\n\nexport default withRouter(FormAnnouncement);","import React from \"react\";\nimport FormAnnouncement from \"../components/Forms/FormAnnouncement\";\n\n\n\nconst Newreport = (props) => {\n  return (\n    <div>\n      <FormAnnouncement/>\n    </div>\n  );\n};\n\nexport default Newreport;","export function buildFormData(formData, data, parentKey) {\n  if (\n    data &&\n    typeof data === \"object\" &&\n    !(data instanceof Date) &&\n    !(data instanceof File)\n  ) {\n    Object.keys(data).forEach((key) => {\n      buildFormData(\n        formData,\n        data[key],\n        parentKey ? `${parentKey}[${key}]` : key\n      );\n    });\n  } else {\n    const value = data == null ? \"\" : data;\n    formData.append(parentKey, value);\n  }\n}\n","import React, { Component } from 'react';\nimport apiHandler from '../../api/apiHandler';\nimport UserContext from \"../Auth/UserContext\";\nimport { buildFormData } from \"../../utils\";\nimport AutoComplete from \"../AutoComplete\";\n\n\nclass FormEditAnnounce extends Component {\n    static contextType = UserContext;\n    state = {\n        title: \"\",\n        name: \"\",\n        location: \"\",\n        email: \"\",\n        description: \"\",\n        image:\"\",\n        location: {\n          coordinates: [],\n        },\n        status:\"\",\n        pet_type:\"\",\n        comments:\"\",\n    };\n\n    imageRef = React.createRef();\n\n    componentDidMount() {\n        const announceId = this.props.match.params.id;\n        apiHandler\n          .getOneAnnounce(announceId)\n          .then((apiResponse) => {\n            console.log(apiResponse)\n            this.setState({\n               announce: apiResponse\n            });\n          })\n          .catch((error) => {\n            console.log(error);\n          });\n      }\n\n      handleChange = (event) => {\n        const value = event.target.value;\n        const key = event.target.name;\n        this.setState({ [key]: value });\n      };\n\n\n    handleSubmit = (event) => {\n        event.preventDefault();\n        const fd = new FormData();\n        const { httpResponse, ...data } = this.state;\n        buildFormData(fd, data)\n\n        fd.append(\"image\", this.imageRef.current.files[0]);\n\n        const announceId = this.props.match.params.id;\n\n        apiHandler\n          .updateAnnounce(announceId, fd)\n          .then((data) => {\n            this.props.history.push(\"/profile\");\n            this.setState({\n                httpResponse: {\n                  status: \"success\",\n                  message: \"Item successfully added.\",\n                },\n              });\n              this.timeoutId = setTimeout(() => {\n                this.setState({ httpResponse: null });\n              }, 1000);\n            })\n            .catch((error) => {\n              this.setState({\n                httpResponse: {\n                  status: \"failure\",\n                  message: \"An error occured, try again later.\",\n                },\n              });\n              this.timeoutId = setTimeout(() => {\n                this.setState({ httpResponse: null });\n              }, 1000);\n            });\n      \n      };\n    \n\n    render() {\n        return (\n            <form onSubmit={this.handleSubmit}\n            ref={this.formRef}>\n                <div>\n                <label htmlFor=\"title\">Title</label>\n            <input\n              onChange={this.handleChange}\n              value={this.state.title}\n              id=\"title\"\n              name=\"title\"\n              type=\"text\"\n            />\n                </div>\n          <div>\n          <label htmlFor=\"name\">Name</label>\n            <input\n              onChange={this.handleChange}\n              value={this.state.name}\n              id=\"name\"\n              name=\"name\"\n              type=\"text\"\n            />\n          </div>\n          <div className=\"form-group\">\n            <label className=\"label\" htmlFor=\"location\">\n              Address\n            </label>\n            <AutoComplete onSelect={this.handlePlace} />\n          </div>\n            <div>\n            <label htmlFor=\"email\">E-mail</label>\n            <input\n              onChange={this.handleChange}\n              value={this.state.email}\n              id=\"email\"\n              name=\"email\"\n              type=\"text\"\n            />\n            <div className=\"form-group\">\n            <label className=\"label\" htmlFor=\"status\">\n              Status\n            </label>\n            <select\n              name=\"status\"\n              id=\"status\"\n              onChange={this.handleChange}\n              value={this.state.status}\n            >\n              <option value=\"\" disabled>\n                Select a status\n              </option>\n              <option value=\"Missing\">Missing</option>\n              <option value=\"Found\">Found</option>\n            </select>\n          </div>\n            </div>\n            <div>\n            <label htmlFor=\"description\">Description</label>\n            <input\n              onChange={this.handleChange}\n              value={this.state.description}\n              id=\"description\"\n              name=\"description\"\n              type=\"text\"\n            />\n            </div>\n         \n            <div>\n            <label htmlFor=\"image\">Image</label>\n            <input\n              ref={this.imageRef}\n              onChange={this.handleChange}\n              value={this.state.image}\n              id=\"image\"\n              name=\"image\"\n              type=\"file\"\n            />\n            </div>\n           \n         \n            <div>\n            <label htmlFor=\"pet_type\">Pet type</label>\n            <input\n              onChange={this.handleChange}\n              value={this.state.pet_type}\n              id=\"pet_type\"\n              name=\"pet_type\"\n              type=\"text\"\n            />\n            </div>\n           \n           <div>\n           <label htmlFor=\"comments\">Comments</label>\n            <input\n              onChange={this.handleChange}\n              value={this.state.comments}\n              id=\"comments\"\n              name=\"comments\"\n              type=\"text\"\n            />\n           </div>\n           \n            <button>Submit !</button>\n          </form>\n        );\n    };\n};\n\nexport default FormEditAnnounce;","import React, { Component } from \"react\";\nimport { buildFormData } from \"../../utils\";\nimport apiHandler from \"../../api/apiHandler\";\nimport UserContext from \"../Auth/UserContext\";\n\n\nclass FormProfile extends Component {\n  static contextType = UserContext;\n  state = {\n      user: {\n        username: \"\",\n        password:\"\",\n        profilImg: \"\",\n        phone_number: 0,\n      }\n  };\n\n  imageRef = React.createRef();\n\n  componentDidMount() {\n    const userId = this.props.match.params.id;\n    apiHandler\n      .getUserInfos(userId)\n      .then((data) => {\n        this.setState({ user: data});\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n    }\n\n  handleChange = (event) => {\n    const key = event.target.name; \n    const value = event.target.value;\n    this.setState({ user: { ...this.state.user, [key]: value } });\n  };\n\n  isValidInput = (key) => {\n    if (this.state.user[key] === \"\") {\n      return false;\n    } else return true;\n  };\n\n  checkError = () => {\n    for (const key in this.state.user) {\n      if (this.state[key] === \"\") {\n        return true;\n      }\n    }\n    return false;\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    const fd = new FormData();\n    const {...data} = this.state;\n    buildFormData(fd, data)\n\n    fd.append(\"profileImg\", this.imageRef.current.files[0]);\n    \n\n    apiHandler\n      .updateUser(fd)\n      .then((data) => {\n        this.props.history.push(\"/profile\");\n        this.setState({\n          httpResponse: {\n            status: \"success\",\n            message: \"Profile successfully updated.\",\n          },\n        });\n        this.context.setUser(data);\n        this.timeoutId = setTimeout(() => {\n          this.setState({ httpResponse: null });\n        }, 2000);\n      })\n      .catch((error) => {\n        this.setState({\n          httpResponse: {\n            status: \"failure\",\n            message:\n              \"Something bad happened while updating your profile, try again later\",\n          },\n        });\n\n        this.timeoutId = setTimeout(() => {\n          this.setState({ httpResponse: null });\n        }, 2000);\n      });\n  };\n\n  render() {\n    return (\n        <div className=\"missing\">\n        <form className=\"form\" onSubmit={this.handleSubmit}>\n          <h1 className=\"header\">Edit profile</h1>\n          <img style={{width: 100, height: 100}} src={this.state.user.profileImg} alt=\"animal\"/>\n          <label className=\"label\" htmlFor=\"image\">\n            </label>\n            <input\n              ref={this.imageRef}\n              onChange={this.handleChange}\n              id=\"profilImg\"\n              name=\"profilImg\"\n              type=\"file\"\n            />\n            \n          <div className=\"form-group\">\n            <label className=\"label\" htmlFor=\"username\">\n              Username\n            </label>\n            <input\n              className=\"input\"\n              id=\"username\"\n              type=\"text\"\n              name=\"username\"\n              onChange={this.handleChange}\n              value={this.state.user.username}\n            />\n            {!this.isValidInput(\"username\") && (\n              <p className=\"input-error\">Invalid input</p>\n            )}\n          </div>\n\n          <div className=\"form-group\">\n            <label className=\"label\" htmlFor=\"password\">\n              Password\n            </label>\n            <input\n              className=\"input\"\n              id=\"password\"\n              type=\"text\"\n              name=\"password\"\n              onChange={this.handleChange}\n              value={this.state.user.password || \"\"}\n              \n            />\n            {!this.isValidInput(\"password\") && (\n              <p className=\"input-error\">Invalid input</p>\n            )}\n          </div>\n          <div className=\"form-group\">\n            <label className=\"label\" htmlFor=\"phoneNumber\">\n              Phone number\n            </label>\n            <input\n              className=\"input\"\n              id=\"phoneNumber\"\n              type=\"text\"\n              name=\"phoneNumber\"\n              onChange={this.handleChange}\n              value={this.state.user.phoneNumber}\n            />\n            {!this.isValidInput(\"phoneNumber\") && (\n              <p className=\"input-error\">Invalid input</p>\n            )}\n          </div>\n          <button>Save</button>\n        </form>\n      \n      </div>\n    );\n  }\n}\n\nexport default FormProfile;\n","import React from \"react\";\nimport { Switch, Route } from \"react-router-dom\";\nimport NavMain from \"./components/NavMain\";\nimport Home from \"./pages/Home\";\nimport Signin from \"./pages/Signin\";\nimport Signup from \"./pages/Signup\";\nimport ProtectedRoute from \"./components/ProtectedRoute\";\nimport Profile from \"./pages/Profile\";\nimport Missing from \"./pages/Missing\";\nimport Found from \"./pages/Found\";\nimport NavBottom from \"./components/NavBottom\";\nimport OneMissing from \"./pages/OneMissing\";\nimport OneFound from \"./pages/OneFound\";\nimport NewReport from \"./pages/NewReport\";\nimport FormEditAnnounce from \"./components/Forms/FormEditAnnounce\"\nimport FormProfile from \"./components/Forms/FormProfile\";\n\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <NavMain />\n      <Switch>\n        <Route exact path=\"/\" component={Home} />\n        <Route exact path=\"/missing\" component={Missing} />\n        <Route exact path=\"/create\" component={NewReport} />\n        <Route exact path=\"/missing/:id\" component={OneMissing} />\n        <Route exact path=\"/found/:id\" component={OneFound} />\n        <Route exact path=\"/found\" component={Found} />\n        <Route exact path=\"/signin\" component={Signin} />\n        <Route exact path=\"/signup\" component={Signup} />\n        <ProtectedRoute exact path=\"/profile\" \n        component={Profile}\n         />\n        <ProtectedRoute exact path=\"/profile/:id/edit\" \n        component={FormEditAnnounce}\n         />\n        <ProtectedRoute exact path=\"/profile/settings\" \n        component={FormProfile}\n         />\n      </Switch>\n      <NavBottom/>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport UserProvider from \"./components/Auth/UserProvider\";\nimport App from \"./App\";\n\nimport \"./styles/reset.css\";\nimport \"./styles/global.css\";\n\nReactDOM.render(\n  <BrowserRouter>\n    <UserProvider>\n      <App />\n    </UserProvider>\n  </BrowserRouter>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}