{"version":3,"sources":["api/apiHandler.js","components/Auth/UserContext.jsx","components/Auth/UserProvider.jsx","components/Auth/withUser.jsx","components/NavMain.jsx","components/AppMap.jsx","pages/Home.jsx","components/Forms/FormSignin.jsx","pages/Signin.jsx","components/Forms/FormSignup.jsx","pages/Signup.jsx","components/ProtectedRoute.jsx","pages/Profile.jsx","pages/Missing.jsx","pages/Found.jsx","components/NavBottom.jsx","pages/OneMissing.jsx","pages/OneFound.jsx","components/AutoComplete.jsx","components/Forms/FormAnnouncement.jsx","pages/NewReport.jsx","utils.js","components/Forms/FormEditAnnounce.jsx","components/Forms/FormProfile.jsx","App.jsx","index.js"],"names":["service","axios","create","baseURL","process","withCredentials","errorHandler","error","response","data","console","log","userInfo","post","then","res","catch","get","announceId","patch","delete","UserContext","React","createContext","UserProvider","state","user","isLoggedIn","isLoading","setUser","setState","removeUser","apiHandler","authValues","this","Provider","value","props","children","Component","withUser","ComponentToPassUserContextTo","Consumer","context","className","style","width","height","backgroundColor","exact","to","Fragment","username","onClick","mapboxgl","workerClass","require","default","Map","ReactMapboxGl","accessToken","missingImg","Image","src","foundImg","AppMap","lng","lat","zoom","handleClick","selectedAnnounce","handleSelectAnnounce","navigator","geolocation","getCurrentPosition","position","latitude","coords","longitude","missings","announces","filter","announce","status","founds","missingLayer","type","id","images","layout","map","index","key","event","coordinates","location","foundLayer","containerStyle","top","left","bottom","right","center","PureComponent","Home","selectedItem","onSelectAnnounce","contextType","FormSignin","email","password","handleChange","target","name","handleSubmit","preventDefault","history","push","onChange","onSubmit","htmlFor","withRouter","Signin","FormSignup","phone_number","Signup","component","rest","render","Profile","userAnnounces","deleteAnnounce","_id","onAnnounceSelect","find","onEditFormClose","handleAnnounceUpdate","updatedAnnounce","addAnnounce","profileImg","alt","image","title","formattedAddress","pet_type","description","Missing","responseFromApi","Found","NavBottom","OneMissing","match","params","apiResponse","comments","OneFound","AutocompletePlace","search","results","handleSearchChange","bind","e","clearTimeout","timeoutId","setTimeout","performSearch","features","place","place_name","onSelect","defaultValue","placeholder","handleAnnounceClicked","FormAnnouncement","imageRef","createRef","fd","FormData","append","current","files","handlePlace","geometry","ref","formRef","AutoComplete","disabled","Newreport","buildFormData","formData","parentKey","Date","File","Object","keys","forEach","FormEditAnnounce","httpResponse","message","FormProfile","profilImg","isValidInput","checkError","userId","phoneNumber","App","path","NewReport","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.6ec00d92.chunk.js","sourcesContent":["import axios from \"axios\";\n\nconst service = axios.create({\n  baseURL: process.env.REACT_APP_BACKEND_URL,\n  withCredentials: true, // Cookie is sent to client when using this service. (used for session)\n});\n\nfunction errorHandler(error) {\n  if (error.response.data) {\n    console.log(error.response && error.response.data);\n    throw error;\n  }\n  throw error;\n}\n\nexport default {\n  service,\n\n  signup(userInfo) {\n    return service\n      .post(\"/api/auth/signup\", userInfo)\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n\n  signin(userInfo) {\n    return service\n      .post(\"/api/auth/signin\", userInfo)\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n\n  isLoggedIn() {\n    return service\n      .get(\"/api/auth/isLoggedIn\")\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n\n  logout() {\n    return service\n      .get(\"/api/auth/logout\")\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n\n  getAnnounce() {\n    return service\n      .get(\"/api/announce\")\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n\n  getOneAnnounce(announceId) {\n    return service\n      .get(`/api/announce/${announceId}`)\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n\n  addAnnounce(data) {\n    return service\n      .post(\"/api/announce\", data)\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n  updateAnnounce(announceId, data) {\n    return service\n      .patch(`/api/announce/${announceId}`, data)\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n\n  updateUser(data) {\n    return service\n      .patch(\"/api/users/me\", data)\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n\n  getUserAnnounce() {\n    return service\n      .get(\"/api/users/me/announce\")\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n\n  removeAnnounce(announceId) {\n    return service\n      .delete(`/api/announce/${announceId}`)\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n  getUserInfos() {\n    return service\n      .get(\"/api/users/me\")\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n};\n","import React from \"react\";\n\nconst UserContext = React.createContext();\n\nexport default UserContext;","import React, { Component } from \"react\";\nimport apiHandler from \"../../api/apiHandler\";\nimport UserContext from \"./UserContext\";\n\nclass UserProvider extends Component {\n  state = {\n    user: null,\n    isLoggedIn: false,\n    isLoading: true,\n  };\n\n  componentDidMount() {\n    apiHandler\n      .isLoggedIn()\n      .then((data) => {\n        this.setState({ user: data, isLoggedIn: true, isLoading: false });\n      })\n      .catch((error) => {\n        this.setState({ user: null, isLoggedIn: false, isLoading: false });\n      });\n  }\n\n  setUser = (user) => {\n    this.setState({ user, isLoggedIn: true });\n  };\n\n  removeUser = () => {\n    this.setState({ user: null, isLoggedIn: false });\n  };\n\n  render() {\n    //  Setup all the values/functions you want to expose to anybody reading\n    // from the AuthContext.\n    const authValues = {\n      user: this.state.user,\n      setUser: this.setUser,\n      removeUser: this.removeUser,\n      isLoggedIn: this.state.isLoggedIn,\n      isLoading: this.state.isLoading,\n    };\n\n    return (\n      <UserContext.Provider value={authValues}>\n        {this.props.children}\n      </UserContext.Provider>\n    );\n  }\n}\n\nexport default UserProvider;\n","import React from \"react\";\n\nimport UserContext from \"./UserContext\";\n\n// This is what we call a HOC (Higher Order Component).\n// It takes a component as a parameter and it returns a component.\n// This technique can be used to abstract some logic in order to pass\n// some data down as props to the component sent as parameter.\n\n// The use case of this one is to make it easy to access the user context to\n// any component in our app.\n\n/* ******************************************************** */\n\n//  How to use:  =>\n// YourComponent.jsx\n// import React from \"react\"\n// function or class YourComponent()\n//\n// ... your implementation.\n//\n// export default withUser(YourComponent)\n// ----------------^ your component now has access to the user context defined in UserProvider.jsx.\n\n// This component is not exported as default, so you have to import it\n// this way :\n// import { withUser } from \"../relative/path/to/this/file\"\n\nconst withUser = (ComponentToPassUserContextTo) => {\n  return function (props) {\n    return (\n      <UserContext.Consumer>\n        {(context) => (\n          <ComponentToPassUserContextTo {...props} context={context} />\n        )}\n      </UserContext.Consumer>\n    );\n  };\n};\n\nexport default withUser;","import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport withUser from \"../components/Auth/withUser\";\nimport apiHandler from \"../api/apiHandler\";\n\nimport \"../styles/NavMain.css\";\n\nconst NavMain = (props) => {\n  const { context } = props;\n\n  function handleLogout() {\n    apiHandler\n      .logout()\n      .then(() => {\n        context.removeUser();\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  }\n\n  return (\n    <nav className=\"NavMain\" style={{ width: '100vw', height: '60px', backgroundColor: '#386665' }}>\n      <NavLink exact to=\"/\">\n        <h3 className=\"logo\">Furry Friend Finder <span>🐾</span> </h3>\n      </NavLink>\n      <ul className=\"nav-list\">\n        {context.isLoggedIn && (\n          <React.Fragment>\n            <li>\n              <NavLink to=\"/profile\">\n                {context.user && context.user.username}\n              </NavLink>\n            </li>\n            <li>\n              <p onClick={handleLogout}>Logout</p>\n            </li>\n          </React.Fragment>\n        )}\n        {!context.isLoggedIn && (\n          <React.Fragment>\n            <li>\n              <NavLink to=\"/signin\">Log in</NavLink>\n            </li>\n            <li>\n              <NavLink to=\"/signup\">Sign Up</NavLink>\n            </li>\n          </React.Fragment>\n        )}\n      </ul>\n    </nav>\n  );\n};\n\nexport default withUser(NavMain);\n","import React from \"react\";\nimport ReactMapboxGl, { Layer, Feature } from \"react-mapbox-gl\";\nimport 'mapbox-gl/dist/mapbox-gl.css';\nimport mapboxgl from 'mapbox-gl';\n// eslint-disable-next-line import/no-webpack-loader-syntax\nmapboxgl.workerClass = require('worker-loader!mapbox-gl/dist/mapbox-gl-csp-worker').default;\n\nconst Map = ReactMapboxGl({\n    accessToken: process.env.REACT_APP_MAPBOX_TOKEN,\n});\n\nconst missingImg = new Image(20, 30);\nmissingImg.src = \"/media/paw-print.png\";\n\nconst foundImg = new Image(20, 30);\nfoundImg.src = \"/media/wanted.png\";\n\n\nclass AppMap extends React.PureComponent {\n    state = {\n      lng: 2.349014, // Default lng and lat set to the center of paris.\n      lat: 48.864716,\n      zoom: 12, // used for map zoom level\n    };\n  \n    componentDidMount() {\n      // Get users geo location and set it as the state so the map centers relative to the users current location. :)\n      const success = (position) => {\n        const latitude = position.coords.latitude;\n        const longitude = position.coords.longitude;\n        this.setState({ lat: latitude, lng: longitude });\n      };\n  \n      const error = () => {\n        console.log(\"An error occured geolocating user\");\n      };\n  \n      if (!navigator.geolocation) {\n        console.log(\"Geolocation not supported\");\n      } else {\n        navigator.geolocation.getCurrentPosition(success, error);\n      }\n    }\n  \n    handleClick = (selectedAnnounce) => {\n      // Pass the selectedItem back to the parent.\n      this.props.handleSelectAnnounce(selectedAnnounce);\n    };\n  \n    render() {\n      const missings = this.props.announces.filter(\n        (announce) => announce.status[0] === \"Missing\"\n      );\n  \n      const founds = this.props.announces.filter(\n        (announce) => announce.status[0] === \"Found\"\n      );\n  \n      const missingLayer = (\n        <Layer\n          type=\"symbol\"\n          id=\"missing\"\n          images={[\"missing-icon\", missingImg]}\n          layout={{ \"icon-image\": \"missing-icon\" }}\n        >\n          {missings.map((announce, index) => (\n            <Feature\n              key={index}\n              onClick={(event) => this.handleClick(announce)}\n              coordinates={announce.location.coordinates}\n            />\n          ))}\n        </Layer>\n      );\n  \n      const foundLayer = (\n        <Layer\n          type=\"symbol\"\n          id=\"found\"\n          images={[\"found-icon\", foundImg]}\n          layout={{ \"icon-image\": \"found-icon\" }}\n        >\n          {founds.map((announce, index) => (\n            <Feature\n              key={index}\n              onClick={(event) => this.handleClick(announce)}\n              coordinates={announce.location.coordinates}\n            />\n          ))}\n        </Layer>\n      );\n  \n      \n      return (\n        <Map\n          // eslint-disable-next-line\n          style=\"mapbox://styles/mapbox/light-v10\"\n          zoom={[12]}\n          containerStyle={{\n            top: 0,\n            left: 0,\n            bottom: 0,\n            right: 0,\n            position: \"absolute\",\n          }}\n          center={[this.state.lng, this.state.lat]}\n        >\n          {missingLayer}\n          {foundLayer}\n    \n        </Map>\n      );\n    }\n  }\n  \n  export default AppMap;\n  ","import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport AppMap from \"../components/AppMap\";\nimport UserContext from \"../components/Auth/UserContext\";\nimport apiHandler from \"../api/apiHandler\";\n\nclass Home extends React.Component {\n  static contextType = UserContext;\n  state = {\n    selectedItem: null,\n    announces: [],\n  };\n\n  componentDidMount() {\n    apiHandler.getAnnounce().then((data) => {\n      this.setState({ announces: data });\n    });\n  }\n\n  onSelectAnnounce = (selectedAnnounce) => {\n    this.setState({ selectedAnnounce: selectedAnnounce });\n  };\n\n  render() {\n    const { user } = this.context;\n\n    return (\n      \n      <React.Fragment>\n      \n      <AppMap announces={this.state.announces} handleSelectAnnounce={this.onSelectAnnounce} />\n      <button><NavLink to=\"/profile\">Missing</NavLink></button>\n    </React.Fragment>\n       \n    );\n  }\n}\n\nexport default Home;\n","import React, { Component } from \"react\";\nimport UserContext from \"../Auth/UserContext\";\nimport { withRouter } from \"react-router-dom\";\nimport apiHandler from \"../../api/apiHandler\";\nimport { Redirect } from \"react-router-dom\";\n\nclass FormSignin extends Component {\n  static contextType = UserContext;\n\n  state = {\n    email: \"\",\n    password: \"\",\n  };\n\n  handleChange = (event) => {\n    const key = event.target.name;\n    const value = event.target.value;\n\n    this.setState({ [key]: value });\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n\n    apiHandler\n      .signin(this.state)\n      .then((data) => {\n        this.context.setUser(data);\n        this.props.history.push(\"/profile\");\n      })\n      .catch((error) => {\n        console.log(error);\n        // Display error message here, if you set the state\n      });\n  };\n\n  render() {\n    if (this.context.user) {\n      return <Redirect to=\"/\" />;\n    }\n\n    return (\n      <form onChange={this.handleChange} onSubmit={this.handleSubmit}>\n        <label htmlFor=\"email\">Email</label>\n        <input type=\"email\" id=\"email\" name=\"email\" onChange={this.handleChange}\n              value={this.state.email}\n              className=\"input\" />\n\n        <label htmlFor=\"password\">Password</label>\n        <input type=\"password\" id=\"password\" name=\"password\" onChange={this.handleChange}\n              value={this.state.password}\n              className=\"input\" />\n        <button>Submit</button>\n      </form>\n    );\n  }\n}\n\nexport default withRouter(FormSignin);\n","import React from \"react\";\nimport FormSignin from \"../components/Forms/FormSignin\";\n\nconst Signin = (props) => {\n  return <FormSignin />;\n};\n\nexport default Signin;\n","import React, { Component } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport UserContext from \"../Auth/UserContext\";\nimport apiHandler from \"../../api/apiHandler\";\nimport { Redirect } from \"react-router-dom\";\n\nclass FormSignup extends Component {\n  static contextType = UserContext;\n\n  state = {\n    username: \"\",\n    email: \"\",\n    password: \"\",\n    phone_number: 0,\n  };\n\n  handleChange = (event) => {\n    const value = event.target.value;\n    const key = event.target.name;\n\n    this.setState({ [key]: value });\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n\n    apiHandler\n      .signup(this.state)\n      .then((data) => {\n        this.context.setUser(data);\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  render() {\n    if (this.context.user) {\n      return <Redirect to=\"/profile\" />;\n    }\n\n    return (\n      <form onSubmit={this.handleSubmit}>\n        <div>\n        <label htmlFor=\"username\">Username</label>\n        <input\n          onChange={this.handleChange}\n          value={this.state.username}\n          type=\"username\"\n          id=\"username\"\n          name=\"username\"\n        />\n        </div>\n      <div>\n      <label htmlFor=\"email\">Email</label>\n        <input\n          onChange={this.handleChange}\n          value={this.state.email}\n          type=\"email\"\n          id=\"email\"\n          name=\"email\"\n          />\n      </div>\n       <div>\n       <label htmlFor=\"password\">Password</label>\n        <input\n          onChange={this.handleChange}\n          value={this.state.password}\n          type=\"password\"\n          id=\"password\"\n          name=\"password\"\n        />\n       </div>\n        \n        <div>\n        <label htmlFor=\"phone_number\">Phone number</label>\n        <input\n          onChange={this.handleChange}\n          value={this.state.phone_number}\n          type=\"phone_number\"\n          id=\"phone_number\"\n          name=\"phone_number\"\n        />\n        </div> \n        <button>Submit</button>\n      </form>\n    );\n  }\n}\n\nexport default withRouter(FormSignup);\n","import React from \"react\";\nimport FormSignup from \"../components/Forms/FormSignup\";\n\nconst Signup = (props) => {\n  return <FormSignup />;\n};\n\nexport default Signup;\n","import React from \"react\";\nimport { Redirect, Route } from \"react-router-dom\";\nimport withUser from \"../components/Auth/withUser\";\n\nconst ProtectedRoute = ({ component: Component, context, ...rest }) => {\n  if (context.isLoading) {\n    return null;\n  } else if (context.isLoggedIn) {\n    return <Route {...rest} render={(props) => <Component {...props} />} />;\n  } else {\n    return <Redirect to=\"/signin\" />;\n  }\n};\n\nexport default withUser(ProtectedRoute);\n","import React, { Component } from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport UserContext from \"../components/Auth/UserContext\";\nimport apiHandler from \"../api/apiHandler\";\nimport { Link } from \"react-router-dom\";\nimport withUser from \"../components/Auth/withUser\"\n\n\nclass Profile extends Component {\n  static contextType = UserContext;\n  \n  state = {\n    userAnnounces:[],\n    selectedAnnounce: null,\n  };\n\n  componentDidMount() {\n    apiHandler\n    .getUserAnnounce()\n    .then((data) => {\n      this.setState({ userAnnounces: data });\n    });\n  }\n\n  deleteAnnounce = (announceId) => {\n    apiHandler.removeAnnounce(announceId).then(() => {\n      const userAnnounces = [...this.state.userAnnounces].filter(\n        (announce) =>  announce._id !== announceId\n      );\n      this.setState({ userAnnounces });\n    });\n  };\n\n  onAnnounceSelect = (announceId) => {\n    const selectedAnnounce = this.state.userAnnounces.find(\n      (announce) => announce._id === announceId\n    );\n    this.setState({ selectedAnnounce: selectedAnnounce });\n  };\n\n  onEditFormClose = () => {\n    this.setState({ selectedAnnounce: null });\n  };\n\n  handleAnnounceUpdate = (updatedAnnounce) => {\n    const userAnnounces = [...this.state.userAnnounces].map((announce) =>\n    announce._id === updatedAnnounce._id ? updatedAnnounce : announce\n    );\n    this.setState({ userAnnounces });\n  };\n  \n  addAnnounce = (announce) => {\n    this.setState({ userAnnounces: [...this.state.userAnnounces] });\n  };\n\n  render() {\n    const { user } = this.context;\n    const { userAnnounces } = this.state;\n    if (!user) return null;\n    return (\n      <section className=\"Profile\">\n        <div className=\"user-presentation\">\n          <h2 className=\"title\">\n            {user.username}\n          </h2>\n\n        </div>\n\n        <div className=\"user-image\">\n          <img src={user.profileImg} alt={user.profileImg} style={{width: 100, height: 100}} />\n        </div>\n        <div className=\"user-image\">\n          <h2 className=\"title\">\n            {user.username} {user.email} {user.phone_number}\n          </h2>\n          <button><Link className=\"link\" to=\"/profile/settings\">Edit profile</Link></button>\n          <button><NavLink to=\"/create\">Report Missing</NavLink></button>\n        </div>\n          \n          <div className=\"missing\">\n            <h3>Your announcements</h3>\n            {this.state.userAnnounces  && this.state.userAnnounces.map((announce) => {\n                    return (\n                        <div className=\"missing_info\" \n                        key={announce._id}   \n                       >\n                            <img\n                          style={{\n                            width: \"100vw\",\n                            height: \"\",\n                          }}\n                          src={announce.image}\n                          alt={announce.name}\n                            />\n                        <Link to={`/missing/${announce._id}`}>\n                          <h2>{announce.title}</h2>\n                        </Link>\n                        <h3>{announce.name}</h3>\n                        <h3>{announce.formattedAddress}</h3>\n                        <h3>{announce.pet_type}</h3>\n                        <h3>{announce.description}</h3>\n                        <Link to={`/profile/${announce._id}/edit`}>\n                    <button>Edit</button>\n                      </Link>\n                      <button onClick={() => this.deleteAnnounce(announce._id)}>\n                    Delete\n                  </button>\n                        \n                      </div>\n                    )}\n            )}\n          </div>\n      </section>\n    );\n  }\n}\n\n\nexport default withUser(Profile);\n\n","import React, { Component } from 'react'\nimport apiHandler from \"../api/apiHandler\"\nimport { Link } from \"react-router-dom\";\n\n\nclass Missing extends Component {\n    state = {\n        announces: [],\n    };\n\n    componentDidMount() {\n        apiHandler\n        .getAnnounce()\n        .then((responseFromApi) => {\n          this.setState({\n            announces: responseFromApi\n          });\n        })\n        .catch((error) => {\n            console.log(error);\n        });\n    }\n    \n\n    render() {\n      \n        return (\n            <div className=\"missing\">\n            <h2 className=\"missing_title\">Missing page</h2>\n             {this.state.announces  && this.state.announces.map((announce) => {\n                if (announce.status[0] === \"Missing\"){\n                    return (\n                        <div className=\"missing_info\" key={announce._id}>\n                            <img\n                          style={{\n                            width: \"100vw\",\n                            height: \"\",\n                          }}\n                          src={announce.image}\n                          alt={announce.name}\n                            />\n                        <Link to={`/missing/${announce._id}`}>\n                          <h2>{announce.title}</h2>\n                        </Link>\n                        <h3>{announce.name}</h3>\n                        <h3>{announce.location.coordinates}</h3>\n                        <h3>{announce.pet_type}</h3>\n                        <h3>{announce.description}</h3>\n        \n                      </div>\n                    )\n                  }\n               \n            \n            })}\n        </div>\n        )\n    }\n}\n\nexport default Missing\n\n","import React, { Component } from 'react'\nimport apiHandler from \"../api/apiHandler\"\nimport { Link } from \"react-router-dom\";\n\nclass Found extends Component {\n    state = {\n        announces: [],\n    };\n\n    componentDidMount() {\n        apiHandler\n        .getAnnounce()\n        .then((responseFromApi) => {\n          this.setState({\n            announces: responseFromApi\n          });\n        })\n        .catch((error) => {\n            console.log(error);\n        });\n    }\n    \n\n    render() {\n        return (\n            <div className=\"missing\">\n            <h2>Found page</h2>\n             {this.state.announces.map((announce)=>{\n                 if (announce.status[0] === \"Found\"){\n                    return (\n                        <div key={announce._id}>\n                            <img\n                          style={{\n                            width: \"100vw\",\n                            height: \"50vh\",\n                          }}\n                          src={announce.image}\n                          alt={announce.name}\n                            />\n                        <Link to={`/found/${announce._id}`}>\n                          <h2>{announce.title}</h2>\n                        </Link>\n                        <h3>{announce.name}</h3>\n                        <h3>{announce.location.coordinates}</h3>\n                        <h3>{announce.pet_type}</h3>\n                        <h3>{announce.description}</h3>\n        \n                      </div>\n                    )}\n               \n            \n            })}\n        </div>\n        )\n    }\n}\n\nexport default Found;\n\n","import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\n\nimport \"../styles/NavBottom.css\";\n\nconst NavBottom = () => {\n    return (\n    <nav className=\"NavBottom\" style={{ width: '100vw', height: '60px', backgroundColor: '#386665' }}>\n   \n    <ul className=\"nav-list\">\n      \n        <React.Fragment>\n          <li>\n            <NavLink to=\"/missing\">Missing</NavLink>\n          </li>\n        </React.Fragment>\n      \n        <React.Fragment>\n          <li>\n            <NavLink to=\"/found\">Found</NavLink>\n          </li>\n        </React.Fragment>\n      \n    </ul>\n  </nav>\n);\n};\nexport default NavBottom;","import React, { Component } from 'react'\nimport apiHandler from '../api/apiHandler';\nimport '../styles/missing.css';\n\nclass OneMissing extends Component {\n    state = {\n        announce: [],\n    };\n\n    componentDidMount() {\n        \n        const announceId = this.props.match.params.id;\n        apiHandler\n        .getOneAnnounce(announceId)\n        .then((apiResponse) => {\n              this.setState({\n                announce: apiResponse,\n              });\n        });\n    }\n  \n    render() {\n      if (!this.state.announce) {\n        return <div>Looking for your announcement..</div>;\n      }\n  \n      return (\n        <div className=\"missing\">\n          <h2>Missing details</h2>\n          <div>\n            \n            <img src={this.state.announce.image} alt=\"bob\"/>\n            <h2>{this.state.announce.title}</h2>\n            <h3>{this.state.announce.name}</h3>\n            <h4>{this.state.announce.formattedAddress}</h4>\n            <p>{this.state.announce.email}</p>\n            <p>{this.state.announce.description}</p>\n            <p>{this.state.announce.pet_type}</p>\n            <p>{this.state.announce.comments}</p>\n          </div>\n      \n        </div>\n      );\n    }\n    \n}\n\nexport default OneMissing;\n\n","import React, { Component } from 'react'\nimport apiHandler from '../api/apiHandler';\nimport '../styles/found.css';\n\nclass OneFound extends Component {\n    state = {\n        announce: [],\n    };\n\n    componentDidMount() {\n        \n        const announceId = this.props.match.params.id;\n        apiHandler\n        .getOneAnnounce(announceId)\n        .then((apiResponse) => {\n            console.log(apiResponse);\n              this.setState({\n                announce: apiResponse\n              });\n        });\n    }\n  \n    render() {\n      if (!this.state.announce) {\n        return <div>Looking for your announcement..</div>;\n      }\n  \n      return (\n        <div className=\"missing\">\n          <h2>Found details</h2>\n          <div>\n            \n            <img src={this.state.announce.image} alt=\"bob\"/>\n            <h2>{this.state.announce.title}</h2>\n            <h3>{this.state.announce.name}</h3>\n            <h4>{this.state.announce.formattedAddress}</h4>\n            <p>{this.state.announce.email}</p>\n            <p>{this.state.announce.description}</p>\n            <p>{this.state.announce.pet_type}</p>\n            <p>{this.state.announce.comments}</p>\n          </div>\n      \n        </div>\n      );\n    }\n    \n}\n\nexport default OneFound;\n\n","import React, { Component } from \"react\";\nimport axios from \"axios\";\n\n\n/*\n *  Thanks to @mc100s for this component\n *  https://github.com/mc100s\n *\n */\n\nclass AutocompletePlace extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      search: \"\",\n      results: [],\n      isLoading: false,\n    };\n    this.handleSearchChange = this.handleSearchChange.bind(this);\n  }\n\n  handleSearchChange(e) {\n    this.setState({\n      search: e.target.value,\n      isLoading: true,\n    });\n\n    // Stop the previous setTimeout if there is one in progress\n    clearTimeout(this.timeoutId);\n\n    // Launch a new request in 1000ms (1s) => Avoids excessive requests to the end point.\n    this.timeoutId = setTimeout(() => {\n      this.performSearch();\n    }, 1000);\n  }\n\n  performSearch() {\n    if (this.state.search === \"\") {\n      this.setState({\n        results: [],\n        isLoading: false,\n      });\n      return;\n    }\n    // https://docs.mapbox.com/api/search/geocoding\n    axios\n      .get(\n        `https://api.mapbox.com/geocoding/v5/mapbox.places/${this.state.search}.json?access_token=${process.env.REACT_APP_MAPBOX_TOKEN}`\n      )\n      .then((response) => {\n        this.setState({\n          results: response.data.features,\n          isLoading: false,\n        });\n      });\n  }\n\n  handleAnnounceClicked(place) {\n    this.setState({\n      search: place.place_name,\n      results: [],\n    });\n\n    this.props.onSelect(place);\n  }\n\n  render() {\n    const { results, isLoading } = this.state;\n    return (\n      <div className=\"AutocompletePlace\">\n        <input\n          className=\"input\"\n          type=\"text\"\n          value={this.props.defaultValue || this.state.search}\n          onChange={this.handleSearchChange}\n          placeholder=\"Type an address\"\n        />\n        <ul className=\"AutocompletePlace-results\">\n          {results.map((place) => (\n            <li\n              key={place.id}\n              className=\"AutocompletePlace-announces\"\n              onClick={() => this.handleAnnounceClicked(place)}\n            >\n              {place.place_name}\n            </li>\n          ))}\n          {isLoading && <li className=\"AutocompletePlace-announces\">Loading...</li>}\n        </ul>\n      </div>\n    );\n  }\n}\n\nexport default AutocompletePlace;\n","import React, { Component } from 'react';\nimport { withRouter } from \"react-router-dom\";\nimport apiHandler from '../../api/apiHandler';\nimport AutoComplete from \"../AutoComplete\";\nimport UserContext from \"../Auth/UserContext\";\n\n\nclass FormAnnouncement extends Component {\n    static contextType = UserContext;\n    state = {\n            title: \"\",\n            name: \"\",\n            location: {\n              coordinates: [],\n            },\n            email: \"\",\n            image: \"\",\n            description: \"\",\n            pet_type: \"\",\n            status:\"\",\n            comments: \"\",\n    };\n    \n    imageRef = React.createRef();\n   \n  handleChange = (event) => {\n    const value = event.target.value;\n    const key = event.target.name;\n    this.setState({ [key]: value });\n  };\n\n    \n    handleSubmit = (event) => {\n        event.preventDefault();\n        console.log(this.state)\n\n        const fd = new FormData();\n\n        for (let key in this.state) {\n            fd.append(key, this.state[key]);\n        }\n\n        fd.append(\"image\", this.imageRef.current.files[0]);\n\n        apiHandler\n          .addAnnounce(fd, {\n            title: this.state.title,\n            name: this.state.name,\n            location: this.state.location,\n            email: this.state.email,\n            image: this.state.image,\n            description: this.state.description,\n            pet_type:this.state.pet_type,\n            status:this.state.status,\n            comments:this.state.comments,\n          })\n          .then((data) => {\n            this.props.history.push(\"/profile\");\n\n          });\n      };\n\n      handlePlace = (place) => {\n        const location = place.geometry;\n        this.setState({ location, formattedAddress: place.place_name });\n      };\n\n    render() {\n        return (\n            <form onSubmit={this.handleSubmit}\n            ref={this.formRef}>\n                <div>\n                <label htmlFor=\"title\">Title</label>\n            <input\n              onChange={this.handleChange}\n              value={this.state.title}\n              id=\"title\"\n              name=\"title\"\n              type=\"text\"\n            />\n                </div>\n          <div>\n          <label htmlFor=\"name\">Name</label>\n            <input\n              onChange={this.handleChange}\n              value={this.state.name}\n              id=\"name\"\n              name=\"name\"\n              type=\"text\"\n            />\n          </div>\n          <div className=\"form-group\">\n            <label className=\"label\" htmlFor=\"location\">\n              Address\n            </label>\n            <AutoComplete onSelect={this.handlePlace} />\n          </div>\n            <div>\n            <label htmlFor=\"email\">E-mail</label>\n            <input\n              onChange={this.handleChange}\n              value={this.state.email}\n              id=\"email\"\n              name=\"email\"\n              type=\"text\"\n            />\n            </div>\n            <div className=\"form-group\">\n            <label className=\"label\" htmlFor=\"status\">\n              Status\n            </label>\n            <select\n              name=\"status\"\n              id=\"status\"\n              onChange={this.handleChange}\n              value={this.state.status}\n            >\n              <option value=\"\" disabled>\n                Select a status\n              </option>\n              <option value=\"Missing\">Missing</option>\n              <option value=\"Found\">Found</option>\n            </select>\n          </div>\n            <div>\n            <label htmlFor=\"description\">Description</label>\n            <input\n              onChange={this.handleChange}\n              value={this.state.description}\n              id=\"description\"\n              name=\"description\"\n              type=\"text\"\n            />\n            </div>\n         \n            <div>\n            <label htmlFor=\"image\">Image</label>\n            <input\n              ref={this.imageRef}\n              onChange={this.handleChange}\n              value={this.state.image}\n              id=\"image\"\n              name=\"image\"\n              type=\"file\"\n            />\n            </div>\n           \n         \n            <div>\n            <label htmlFor=\"pet_type\">Pet type</label>\n            <input\n              onChange={this.handleChange}\n              value={this.state.pet_type}\n              id=\"pet_type\"\n              name=\"pet_type\"\n              type=\"text\"\n            />\n            </div>\n           \n           <div>\n           <label htmlFor=\"comments\">Comments</label>\n            <input\n              onChange={this.handleChange}\n              value={this.state.comments}\n              id=\"comments\"\n              name=\"comments\"\n              type=\"text\"\n            />\n           </div>\n           \n            <button>Submit !</button>\n          </form>\n        );\n    }\n}\n\nexport default withRouter(FormAnnouncement);","import React from \"react\";\nimport FormAnnouncement from \"../components/Forms/FormAnnouncement\";\n\n\n\nconst Newreport = (props) => {\n  return (\n    <div>\n      <FormAnnouncement/>\n    </div>\n  );\n};\n\nexport default Newreport;","export function buildFormData(formData, data, parentKey) {\n  if (\n    data &&\n    typeof data === \"object\" &&\n    !(data instanceof Date) &&\n    !(data instanceof File)\n  ) {\n    Object.keys(data).forEach((key) => {\n      buildFormData(\n        formData,\n        data[key],\n        parentKey ? `${parentKey}[${key}]` : key\n      );\n    });\n  } else {\n    const value = data == null ? \"\" : data;\n    formData.append(parentKey, value);\n  }\n}\n","import React, { Component } from 'react';\nimport apiHandler from '../../api/apiHandler';\nimport UserContext from \"../Auth/UserContext\";\nimport { buildFormData } from \"../../utils\";\n\n\nclass FormEditAnnounce extends Component {\n    static contextType = UserContext;\n    state = {\n        title: \"\",\n        name: \"\",\n        location: \"\",\n        email: \"\",\n        description: \"\",\n        image:\"\",\n        location: {\n          coordinates: [],\n        },\n        status:\"\",\n        pet_type:\"\",\n        comments:\"\",\n    };\n\n    imageRef = React.createRef();\n\n    componentDidMount() {\n        const announceId = this.props.match.params.id;\n        apiHandler\n          .getOneAnnounce(announceId)\n          .then((apiResponse) => {\n            console.log(apiResponse)\n            this.setState({\n               announce: apiResponse\n            });\n          })\n          .catch((error) => {\n            console.log(error);\n          });\n      }\n\n      handleChange = (event) => {\n        const value = event.target.value;\n        const key = event.target.name;\n        this.setState({ [key]: value });\n      };\n\n\n    handleSubmit = (event) => {\n        event.preventDefault();\n        const fd = new FormData();\n        const { httpResponse, ...data } = this.state;\n        buildFormData(fd, data)\n\n        fd.append(\"image\", this.imageRef.current.files[0]);\n\n        const announceId = this.props.match.params.id;\n\n        apiHandler\n          .updateAnnounce(announceId, fd)\n          .then((data) => {\n            this.props.history.push(\"/profile\");\n            this.setState({\n                httpResponse: {\n                  status: \"success\",\n                  message: \"Item successfully added.\",\n                },\n              });\n              this.timeoutId = setTimeout(() => {\n                this.setState({ httpResponse: null });\n              }, 1000);\n            })\n            .catch((error) => {\n              this.setState({\n                httpResponse: {\n                  status: \"failure\",\n                  message: \"An error occured, try again later.\",\n                },\n              });\n              this.timeoutId = setTimeout(() => {\n                this.setState({ httpResponse: null });\n              }, 1000);\n            });\n      \n      };\n    \n\n    render() {\n        return (\n            <form onSubmit={this.handleSubmit}\n            ref={this.formRef}>\n                <div>\n                <label htmlFor=\"title\">Title</label>\n            <input\n              onChange={this.handleChange}\n              value={this.state.title}\n              id=\"title\"\n              name=\"title\"\n              type=\"text\"\n            />\n                </div>\n          <div>\n          <label htmlFor=\"name\">Name</label>\n            <input\n              onChange={this.handleChange}\n              value={this.state.name}\n              id=\"name\"\n              name=\"name\"\n              type=\"text\"\n            />\n          </div>\n            <div>\n            <label htmlFor=\"location\">Location</label>\n            <input\n              onChange={this.handleChange}\n              value={this.state.location.coordinates}\n              id=\"location\"\n              name=\"location\"\n              type=\"text\"\n            />\n            </div>\n            <div>\n            <label htmlFor=\"email\">E-mail</label>\n            <input\n              onChange={this.handleChange}\n              value={this.state.email}\n              id=\"email\"\n              name=\"email\"\n              type=\"text\"\n            />\n            <div className=\"form-group\">\n            <label className=\"label\" htmlFor=\"status\">\n              Status\n            </label>\n            <select\n              name=\"status\"\n              id=\"status\"\n              onChange={this.handleChange}\n              value={this.state.status}\n            >\n              <option value=\"\" disabled>\n                Select a status\n              </option>\n              <option value=\"Missing\">Missing</option>\n              <option value=\"Found\">Found</option>\n            </select>\n          </div>\n            </div>\n            <div>\n            <label htmlFor=\"description\">Description</label>\n            <input\n              onChange={this.handleChange}\n              value={this.state.description}\n              id=\"description\"\n              name=\"description\"\n              type=\"text\"\n            />\n            </div>\n         \n            <div>\n            <label htmlFor=\"image\">Image</label>\n            <input\n              ref={this.imageRef}\n              onChange={this.handleChange}\n              value={this.state.image}\n              id=\"image\"\n              name=\"image\"\n              type=\"file\"\n            />\n            </div>\n           \n         \n            <div>\n            <label htmlFor=\"pet_type\">Pet type</label>\n            <input\n              onChange={this.handleChange}\n              value={this.state.pet_type}\n              id=\"pet_type\"\n              name=\"pet_type\"\n              type=\"text\"\n            />\n            </div>\n           \n           <div>\n           <label htmlFor=\"comments\">Comments</label>\n            <input\n              onChange={this.handleChange}\n              value={this.state.comments}\n              id=\"comments\"\n              name=\"comments\"\n              type=\"text\"\n            />\n           </div>\n           \n            <button>Submit !</button>\n          </form>\n        );\n    };\n};\n\nexport default FormEditAnnounce;","import React, { Component } from \"react\";\nimport { buildFormData } from \"../../utils\";\nimport apiHandler from \"../../api/apiHandler\";\nimport UserContext from \"../Auth/UserContext\";\n\n\nclass FormProfile extends Component {\n  static contextType = UserContext;\n  state = {\n      user: {\n        username: \"\",\n        password:\"\",\n        profilImg: \"\",\n        phone_number: 0,\n      }\n  };\n\n  imageRef = React.createRef();\n\n  componentDidMount() {\n    const userId = this.props.match.params.id;\n    apiHandler\n      .getUserInfos(userId)\n      .then((data) => {\n        this.setState({ user: data});\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n    }\n\n  handleChange = (event) => {\n    const key = event.target.name; \n    const value = event.target.value;\n    this.setState({ user: { ...this.state.user, [key]: value } });\n  };\n\n  isValidInput = (key) => {\n    if (this.state.user[key] === \"\") {\n      return false;\n    } else return true;\n  };\n\n  checkError = () => {\n    for (const key in this.state.user) {\n      if (this.state[key] === \"\") {\n        return true;\n      }\n    }\n    return false;\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    const fd = new FormData();\n    const {...data} = this.state;\n    buildFormData(fd, data)\n\n    fd.append(\"profileImg\", this.imageRef.current.files[0]);\n    \n\n    apiHandler\n      .updateUser(fd)\n      .then((data) => {\n        this.props.history.push(\"/profile\");\n        this.setState({\n          httpResponse: {\n            status: \"success\",\n            message: \"Profile successfully updated.\",\n          },\n        });\n        this.context.setUser(data);\n        this.timeoutId = setTimeout(() => {\n          this.setState({ httpResponse: null });\n        }, 2000);\n      })\n      .catch((error) => {\n        this.setState({\n          httpResponse: {\n            status: \"failure\",\n            message:\n              \"Something bad happened while updating your profile, try again later\",\n          },\n        });\n\n        this.timeoutId = setTimeout(() => {\n          this.setState({ httpResponse: null });\n        }, 2000);\n      });\n  };\n\n  render() {\n    return (\n        <div className=\"missing\">\n        <form className=\"form\" onSubmit={this.handleSubmit}>\n          <h1 className=\"header\">Edit profile</h1>\n          <img style={{width: 100, height: 100}} src={this.state.user.profileImg} alt=\"animal\"/>\n          <label className=\"label\" htmlFor=\"image\">\n            </label>\n            <input\n              ref={this.imageRef}\n              onChange={this.handleChange}\n              id=\"profilImg\"\n              name=\"profilImg\"\n              type=\"file\"\n            />\n            \n          <div className=\"form-group\">\n            <label className=\"label\" htmlFor=\"username\">\n              Username\n            </label>\n            <input\n              className=\"input\"\n              id=\"username\"\n              type=\"text\"\n              name=\"username\"\n              onChange={this.handleChange}\n              value={this.state.user.username}\n            />\n            {!this.isValidInput(\"username\") && (\n              <p className=\"input-error\">Invalid input</p>\n            )}\n          </div>\n\n          <div className=\"form-group\">\n            <label className=\"label\" htmlFor=\"password\">\n              Password\n            </label>\n            <input\n              className=\"input\"\n              id=\"password\"\n              type=\"text\"\n              name=\"password\"\n              onChange={this.handleChange}\n              value={this.state.user.password || \"\"}\n              \n            />\n            {!this.isValidInput(\"password\") && (\n              <p className=\"input-error\">Invalid input</p>\n            )}\n          </div>\n          <div className=\"form-group\">\n            <label className=\"label\" htmlFor=\"phoneNumber\">\n              Phone number\n            </label>\n            <input\n              className=\"input\"\n              id=\"phoneNumber\"\n              type=\"text\"\n              name=\"phoneNumber\"\n              onChange={this.handleChange}\n              value={this.state.user.phoneNumber}\n            />\n            {!this.isValidInput(\"phoneNumber\") && (\n              <p className=\"input-error\">Invalid input</p>\n            )}\n          </div>\n          <button>Save</button>\n        </form>\n      \n      </div>\n    );\n  }\n}\n\nexport default FormProfile;\n","import React from \"react\";\nimport { Switch, Route } from \"react-router-dom\";\nimport NavMain from \"./components/NavMain\";\nimport Home from \"./pages/Home\";\nimport Signin from \"./pages/Signin\";\nimport Signup from \"./pages/Signup\";\nimport ProtectedRoute from \"./components/ProtectedRoute\";\nimport Profile from \"./pages/Profile\";\nimport Missing from \"./pages/Missing\";\nimport Found from \"./pages/Found\";\nimport NavBottom from \"./components/NavBottom\";\nimport OneMissing from \"./pages/OneMissing\";\nimport OneFound from \"./pages/OneFound\";\nimport NewReport from \"./pages/NewReport\";\nimport FormEditAnnounce from \"./components/Forms/FormEditAnnounce\"\nimport FormProfile from \"./components/Forms/FormProfile\";\n\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <NavMain />\n      <Switch>\n        <Route exact path=\"/\" component={Home} />\n        <Route exact path=\"/missing\" component={Missing} />\n        <Route exact path=\"/create\" component={NewReport} />\n        <Route exact path=\"/missing/:id\" component={OneMissing} />\n        <Route exact path=\"/found/:id\" component={OneFound} />\n        <Route exact path=\"/found\" component={Found} />\n        <Route exact path=\"/signin\" component={Signin} />\n        <Route exact path=\"/signup\" component={Signup} />\n        <ProtectedRoute exact path=\"/profile\" \n        component={Profile}\n         />\n        <ProtectedRoute exact path=\"/profile/:id/edit\" \n        component={FormEditAnnounce}\n         />\n        <ProtectedRoute exact path=\"/profile/settings\" \n        component={FormProfile}\n         />\n      </Switch>\n      <NavBottom/>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport UserProvider from \"./components/Auth/UserProvider\";\nimport App from \"./App\";\n\nimport \"./styles/reset.css\";\nimport \"./styles/global.css\";\n\nReactDOM.render(\n  <BrowserRouter>\n    <UserProvider>\n      <App />\n    </UserProvider>\n  </BrowserRouter>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}